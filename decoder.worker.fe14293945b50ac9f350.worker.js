!function(){"use strict";function r(r,t){if(null==r)return{};var e,o,a=function(r,t){if(null==r)return{};var e,o,a={},n=Object.keys(r);for(o=0;o<n.length;o++)e=n[o],t.indexOf(e)>=0||(a[e]=r[e]);return a}(r,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);for(o=0;o<n.length;o++)e=n[o],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(r,e)&&(a[e]=r[e])}return a}function t(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=r[e];return o}function e(r){return function(r){if(Array.isArray(r))return t(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,e){if(r){if("string"===typeof r)return t(r,e);var o=Object.prototype.toString.call(r).slice(8,-1);return"Object"===o&&r.constructor&&(o=r.constructor.name),"Map"===o||"Set"===o?Array.from(r):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(r,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(r){return null===r||void 0===r}var a=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095],n=["globalColor","globalColorTable"],l=self;l.addEventListener("message",(function(t){var i=t.data,c=i.width,s=i.height,f=i.globalColor,u=i.globalColorTable,d=i.statistics.localColor,p=i.localColorTable,h=i.lzwMiniCodeSize,v=i.blocks,b=i.control||{},g=b.transparency,y=void 0!==g&&g,m=b.transparencyIndex,w=void 0===m?0:m;if(!1===(f||d))throw Error("can't find the corresponding color disk, please confirm whether there are valid data");function C(){var r,t;return U===(null===(r=P)||void 0===r?void 0:r.length)&&(P=v.shift(),U=0),null===(t=P)||void 0===t?void 0:t[U++]}function O(){for(;D<E;){var r=C();if(void 0===r){var t=L&a[E];return L>>>=E,D=0,t}L|=r<<D,D+=8}var e=L&a[E];return L>>>=E,D-=E,e}var S=1<<h,j=S+1,A=new Map,k=[],E=h+1,I=-1,x=[],z=-1,T=[],M=-1,P=v.shift(),D=0,L=0,U=0,$=!1;if((I=O())!==S)throw new Error("invalid data, the first code in the code stream should be Clear Code");for(var q=0;q<=j;q++)A.set(q,[q]);for(I=O(),x=A.get(I),k.push.apply(k,e(x)),z=I;P;){switch(A.size-1===(1<<E)-1&&E<12&&E++,I=O(),!0){case I===S:A.clear();for(var B=0;B<=j;B++)A.set(B,[B]);E=h+1,I=O(),x=A.get(I),k.push.apply(k,e(x)),z=I;break;case I===j:$=!0;break;default:A.has(I)?(x=A.get(I),k.push.apply(k,e(x)),T=A.get(z),M=x[0],T=T.concat(M),A.set(A.size,T),z=I):(M=(T=A.get(z))[0],T=T.concat(M),k.push.apply(k,e(T)),A.set(A.size,T),z=I)}if($)break}var F=[];d&&p?F=p:f&&u&&(F=u);for(var G=y?0:255,H=new ImageData(c,s),J=0;J<k.length;J++){var K=k[J],N=F[K];if(o(N))throw new Error("can't find the corresponding color, please confirm that the color disc index ".concat(K," exists"));var Q=4*J;H.data[Q]=N[0],H.data[Q+1]=N[1],H.data[Q+2]=N[2],H.data[Q+3]=K===w?255&G:255}i.globalColor,i.globalColorTable;var R=r(i,n);R.data=H,l.postMessage(R)}))}();
//# sourceMappingURL=decoder.worker.fe14293945b50ac9f350.worker.js.map