{"version":3,"file":"static/js/9.ff6ce634.chunk.js","mappings":"2MACA,GAAgB,IAAM,iBAAiB,cAAc,yBAAyB,cAAc,yBAAyB,WAAW,sBAAsB,cAAc,yBAAyB,aAAa,wBAAwB,YAAY,uBAAuB,WAAW,sBAAsB,YAAY,uBAAuB,YAAY,uBAAuB,MAAQ,oB,4ECgB9WA,GAAgBC,EAAAA,EAAAA,IAAWC,GAElB,SAASC,EAAIC,GAC1B,IACEC,EAOED,EAPFC,SACOC,EAMLF,EANFF,MACAK,EAKEH,EALFG,UAASC,EAKPJ,EAJFK,KAAAA,OAAI,IAAAD,EAAG,UAASA,EAAAE,EAIdN,EAHFO,UAAAA,OAAS,IAAAD,GAAQA,EAAAE,EAGfR,EAFFS,UAAAA,OAAS,IAAAD,EAAG,GAAEA,EACXE,GAAWC,EAAAA,EAAAA,GACZX,EAAKY,GAETC,GAAwBC,EAAAA,EAAAA,WAAS,GAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACpBI,GAA0BL,EAAAA,EAAAA,WAAU,GAAEM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA/BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAEhBG,GAASC,EAAAA,EAAAA,QAAuB,OAEtCC,EAAAA,EAAAA,IAAcR,EAAMM,EAAQ,CAAEG,OAAQ,IAAM,CAAEA,OAAQ5B,EAAAA,gBAEtD6B,EAAAA,EAAAA,YAAU,WACR,GAAyB,kBAAdxB,EAAX,CAEA,IAAMkB,EAAQO,OAAOC,YAAW,WAC9BC,GACF,GAAG3B,GAIH,OAFAmB,EAASD,GAEF,WACLO,OAAOG,aAAaV,EACtB,CAVyC,CAW3C,GAAG,IAEH,IAAMW,EAAWpC,EAAc,CAAC,MAAM,OAADqC,OAAS5B,KAExCyB,EAAc,WAClBZ,GAAQ,GAEJG,GACFO,OAAOG,aAAaV,EAExB,EAEA,OACEa,EAAAA,EAAAA,MAAA,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACEC,IAAKb,EACLd,WAAW4B,EAAAA,EAAAA,IAAaL,EAAUvB,GAClCX,MAAOI,GACHQ,GAAW,IAAAT,SAAA,EAEfqC,EAAAA,EAAAA,KAAA,MAAI7B,UAAWX,EAAAA,aAAmBG,SAAEA,EAASsC,YAE7CD,EAAAA,EAAAA,KAAA,OAAK7B,UAAWX,EAAAA,YAAkBG,SAAEA,EAASuC,UAE5CC,EAAAA,EAAAA,IAAgBlC,KACf+B,EAAAA,EAAAA,KAAA,UAAQ7B,UAAWX,EAAAA,aAAoB4C,QAASZ,EAAY7B,UAC1DqC,EAAAA,EAAAA,KAAA,KAAG7B,UAAU,8BAKvB,C,0FC9EA,GAAgB,KAAO,oB,UCKR,SAASkC,IACtB,OACEL,EAAAA,EAAAA,KAAA,OAAK7B,UAAWX,EAAAA,KAAcG,UAC5BqC,EAAAA,EAAAA,KAACvC,EAAAA,EAAG,CAACM,KAAK,UAASJ,SAChB,CACCsC,OAAM,WACJ,MAAO,KACT,EACAC,KAAI,WACF,OAAOF,EAAAA,EAAAA,KAAA,QAAArC,SAAM,gBACf,MAKV,C","sources":["webpack://illustrate/./src/components/Tip/Tip.module.css?f034","components/Tip/Tip.tsx","webpack://illustrate/./src/pages/Test/Test.module.css?0d2a","pages/Test/Test.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"tip\":\"Tip_tip__LNTuj\",\"tip-primary\":\"Tip_tip-primary__EAMUK\",\"tip-success\":\"Tip_tip-success__feMEZ\",\"tip-info\":\"Tip_tip-info__9b9z2\",\"tip-warning\":\"Tip_tip-warning__+9WRn\",\"tip-danger\":\"Tip_tip-danger__KHeBd\",\"tip-title\":\"Tip_tip-title__3+lfq\",\"tip-desc\":\"Tip_tip-desc__FIuUb\",\"tip-close\":\"Tip_tip-close__9UyE6\",\"tip-leave\":\"Tip_tip-leave__2BXBh\",\"leave\":\"Tip_leave__YwMOn\"};","import React, { useState, useRef, useEffect } from 'react';\nimport { useTransition } from '@/hooks';\nimport { classnames, composeClass, isRenderElement } from '@/utils';\nimport style from './Tip.module.css';\n\ninterface TipSlots {\n  header(): React.ReactNode | React.ReactNode[];\n  body(): React.ReactNode | React.ReactNode[];\n}\n\ninterface TipProps extends Props {\n  children: TipSlots;\n  showClose?: boolean;\n  autoClose?: number;\n  type?: 'default' | 'primary' | 'success' | 'info' | 'warning' | 'danger';\n}\n\nconst generateClass = classnames(style);\n\nexport default function Tip(props: TipProps) {\n  const {\n    children,\n    style: _style,\n    autoClose,\n    type = 'default',\n    showClose = false,\n    className = '',\n    ...nativeProps\n  } = props;\n\n  const [show, setShow] = useState(true);\n  const [timer, setTimer] = useState(-1);\n\n  const tipRef = useRef<HTMLDivElement>(null);\n\n  useTransition(show, tipRef, { active: '' }, { active: style['tip-leave'] });\n\n  useEffect(() => {\n    if (typeof autoClose !== 'number') return;\n\n    const timer = window.setTimeout(() => {\n      handleClose();\n    }, autoClose);\n\n    setTimer(timer);\n\n    return () => {\n      window.clearTimeout(timer);\n    };\n  }, []);\n\n  const tipClass = generateClass(['tip', `tip-${type}`]);\n\n  const handleClose = () => {\n    setShow(false);\n\n    if (timer) {\n      window.clearTimeout(timer);\n    }\n  };\n\n  return (\n    <div\n      ref={tipRef}\n      className={composeClass(tipClass, className)}\n      style={_style}\n      {...nativeProps}\n    >\n      <h2 className={style['tip-title']}>{children.header()}</h2>\n\n      <div className={style['tip-desc']}>{children.body()}</div>\n\n      {isRenderElement(showClose) && (\n        <button className={style['tip-close']} onClick={handleClose}>\n          <i className=\"iconfont icon-guanbi\"></i>\n        </button>\n      )}\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"test\":\"Test_test__eC7vZ\"};","import React from 'react';\nimport Tip from '@/components/Tip/Tip';\nimport style from './Test.module.css';\n\n// --title: 测试页面--\n\nexport default function Test() {\n  return (\n    <div className={style['test']}>\n      <Tip type=\"primary\">\n        {{\n          header() {\n            return 'TIP';\n          },\n          body() {\n            return <span>Test content</span>;\n          }\n        }}\n      </Tip>\n    </div>\n  );\n}\n"],"names":["generateClass","classnames","style","Tip","props","children","_style","autoClose","_props$type","type","_props$showClose","showClose","_props$className","className","nativeProps","_objectWithoutProperties","_excluded","_useState","useState","_useState2","_slicedToArray","show","setShow","_useState3","_useState4","timer","setTimer","tipRef","useRef","useTransition","active","useEffect","window","setTimeout","handleClose","clearTimeout","tipClass","concat","_jsxs","_objectSpread","ref","composeClass","_jsx","header","body","isRenderElement","onClick","Test"],"sourceRoot":""}